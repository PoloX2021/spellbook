version: 2

models:
  - name: cow_protocol_gnosis_solvers
    meta:
      blockchain: gnosis
      project: cow_protocol
      contributors: bh2smith, gentrexha
    config:
      tags: ['gnosis_chain','cow_protocol','solver']
    description: >
      CoW Protocol solvers list on Gnosis Chain

  - name: cow_protocol_gnosis_batches
    meta:
      blockchain: gnosis
      project: cow_protocol
      contributors: bh2smith
    config:
      tags: ['gnosis','cow_protocol','trades', 'dex', 'aggregator', 'auction']
    description: >
      CoW Protocol enriched batches table on Gnosis Chain

  - name: cow_protocol_gnosis_app_data
    meta:
      blockchain: gnosis
      project: cow_protocol
      contributors: bh2smith
    config:
      tags: ['gnosis','cow_protocol','app_data', "metadata"]
    description: >
      CoW Protocol App Data is JSON content stored on IPFS corresponding to order AppHash (cf. CoW Documentation https://docs.cow.fi/front-end/creating-app-ids).

  - name: cow_protocol_gnosis_trade_slippage
    meta:
      blockchain: gnosis
      project: cow_protocol
      contributors: bh2smith, gentrexha, josojo
    config:
      tags: [ 'gnosis','cow_protocol','trade_slippage' ]
    description: >
      The query contains several measurements between the quoted price on cowswap and 
      the executed price. The price difference between the quote and the actual price 
      is called price improvement and is measured as percentage or in absolute dollars.
    data_tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - order_uid
            - block_number
